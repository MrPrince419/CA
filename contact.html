<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Let‚Äôs Talk</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <meta name="description" content="ClosR Automation ‚Äì Business automation & AI services to save time, reduce cost, and scale smartly." />
    <meta name="author" content="ClosR Automation" />
    <meta name="robots" content="index, follow" />
    <meta property="og:title" content="ClosR Automation" />
    <meta property="og:description" content="Smart, scalable automation for modern businesses." />
    <meta property="og:type" content="website" />
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: white;
        }

        /* Glassmorphism Form Styles */
        .contact-form {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 2rem;
        }

        .contact-form .input-wrapper {
            position: relative;
        }

        .contact-form input,
        .contact-form textarea {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: white;
            padding: 0.75rem;
            width: 100%;
            transition: border-color 0.3s;
            padding-left: 3rem; /* Space for icon */
            background: rgba(255, 255, 255, 0.05); /* Glassmorphism */
            backdrop-filter: blur(5px);
        }

        .contact-form .input-icon {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: #ddd;
        }

        .contact-form input:focus,
        .contact-form textarea:focus {
            border-color: #4CAF50;
            outline: none;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        /* Glowing Button Styles */
        .glowing-button {
            position: relative;
            padding: 16px 32px;
            text-align: center;
            text-decoration: none;
            font-size: 20px;
            cursor: pointer;
            border: none;
            border-radius: 8px;
            color: #fff;
            background: linear-gradient(to right, #4CAF50, #2196F3);
            overflow: hidden;
            z-index: 1;
            transition: transform 0.2s;
        }

        .glowing-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            padding-bottom: 0;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 100%;
            transform: translate(-50%, -50%);
            transition: width 0.5s, padding-bottom 0.5s;
            z-index: -1;
        }

        .glowing-button:hover {
            transform: scale(1.1);
        }

        .glowing-button:hover::before {
            width: 300%;
            padding-bottom: 300%;
        }

        /* Fade-up Animation */
        .fade-up {
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease-out;
        }

        .fade-up.active {
            opacity: 1;
            transform: translateY(0);
        }

        /* Calendly Styles */
        .calendly-card {
            border-radius: 16px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .calendly-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 40px rgba(0, 0, 0, 0.2);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        .fade-in {
            animation: fadeIn 1s ease-in-out forwards;
        }

        /* Spinner Animation */
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        
        .spinner {
            display: inline-block;
            animation: spin 1s linear infinite;
        }

        /* Dark Mode Styles */
        .dark body {
            background-color: #000;
            color: #f8f8f8;
        }

        .dark .contact-form {
            background: rgba(30, 30, 30, 0.1);
            border-color: rgba(255, 255, 255, 0.05);
        }

        /* Newsletter Modal Animation */
        @keyframes slideIn {
            from { transform: translateY(100%); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .slide-in {
            animation: slideIn 0.5s ease forwards;
        }
    </style>
</head>
<body>
    <div id="custom-cursor" class="fixed w-4 h-4 bg-blue-400 rounded-full pointer-events-none z-50 transition-transform duration-150 transform -translate-x-1/2 -translate-y-1/2 mix-blend-difference opacity-0"></div>
    <div class="fixed inset-0 z-0 opacity-[0.02] pointer-events-none bg-[url('https://www.transparenttextures.com/patterns/black-paper.png')]"></div>
    
    <button id="toggleDark" class="fixed top-4 right-4 z-50 bg-white/10 text-white px-3 py-1 rounded text-sm hover:bg-white/20 transition">
        üåì Toggle
    </button>
    
    <nav class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-black/50 backdrop-blur px-4 py-2 rounded-full shadow text-sm text-white">
        <a href="index.html" class="mx-2 hover:underline">Home</a>
        <a href="services.html" class="mx-2 hover:underline">Services</a>
        <a href="results.html" class="mx-2 hover:underline">Results</a>
        <a href="contact.html" class="mx-2 text-blue-400 font-semibold">Contact</a>
    </nav>

    <header class="text-center py-16 fade-up" style="animation-delay: 0.2s;">
        <h1 class="text-4xl font-bold">Let‚Äôs Talk</h1>
        <p class="text-lg text-gray-400">We respond to all serious inquiries within <span class="relative group text-blue-400">
            response time
            <span class="absolute left-0 -top-6 text-xs bg-black px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition duration-300 text-green-400 font-mono">
              // 24 hours or less
            </span>
          </span>.</p>
    </header>

    <section id="contact" class="py-16">
        <div class="container mx-auto max-w-md">
            <form class="contact-form fade-up" action="https://formspree.io/f/movepala" method="POST" id="contactForm">
                <input type="hidden" name="_redirect" value="thankyou.html">
                <div class="mb-4 relative" style="animation-delay: 0.3s;">
                    <label for="fullName" class="block text-gray-300 text-sm font-bold mb-2">Full Name</label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="fullName" 
                            placeholder="Your Full Name" 
                            name="name" 
                            class="pl-10 focus:ring-2 focus:outline-none"
                            required 
                            minlength="2">
                        <span class="absolute left-3 top-3 text-gray-400">üë§</span>
                    </div>
                    <p class="text-red-500 text-sm mt-1 hidden" id="nameError">Name must be at least 2 characters long</p>
                </div>
                <div class="mb-4 relative" style="animation-delay: 0.4s;">
                    <label for="email" class="block text-gray-300 text-sm font-bold mb-2">Email</label>
                    <div class="relative">
                        <input 
                            type="email" 
                            id="email" 
                            placeholder="Your Email Address" 
                            name="email" 
                            class="pl-10 focus:ring-2 focus:outline-none"
                            required>
                        <span class="absolute left-3 top-3 text-gray-400">üìß</span>
                    </div>
                    <p class="text-red-500 text-sm mt-1 hidden" id="emailError">Please enter a valid email address</p>
                </div>
                <div class="mb-6 relative" style="animation-delay: 0.5s;">
                    <label for="message" class="block text-gray-300 text-sm font-bold mb-2">Message</label>
                    <div class="relative">
                        <textarea 
                            id="message" 
                            rows="5" 
                            placeholder="Your Message" 
                            name="message" 
                            class="pl-10 focus:ring-2 focus:outline-none"
                            required 
                            minlength="10"></textarea>
                        <span class="absolute left-3 top-3 text-gray-400">üìù</span>
                    </div>
                    <p class="text-red-500 text-sm mt-1 hidden" id="messageError">Message must be at least 10 characters long</p>
                </div>
                <div class="text-center">
                    <button id="submitBtn" type="submit" class="glowing-button mt-4 transition-all">Submit</button>
                </div>
            </form>
            
            <p class="text-gray-400 text-sm mt-10 text-center">
              Prefer to email us directly? 
              <span 
                id="copyEmailBtn"
                class="bg-white/10 px-2 py-1 rounded cursor-pointer hover:text-blue-400 transition duration-200 inline-block ml-1">
                Click to copy our email
              </span>
            </p>
        </div>
    </section>

    <svg class="w-full h-12 text-[#0a0a0a]" viewBox="0 0 1440 100" fill="currentColor" preserveAspectRatio="none">
        <path d="M0,0 C600,100 800,0 1440,100 L1440,0 L0,0 Z"></path>
    </svg>

    <section id="calendly" class="py-16 fade-up" style="animation-delay: 0.6s;">
        <div class="container mx-auto max-w-4xl">
            <header class="text-center mb-6 fade-up">
                <h2 class="text-2xl font-semibold">Book a Free Automation Call</h2>
                <p class="text-gray-400 text-sm">Get hands-on advice & workflow ideas ‚Äî no strings attached</p>
            </header>
            <div class="relative">
                <div class="absolute inset-0 bg-gradient-to-br from-blue-900 via-purple-800 to-transparent opacity-30 blur-3xl z-0"></div>
                <div id="calendlyWrapper" class="bg-black/40 p-6 rounded-xl border border-blue-500/30 shadow-lg backdrop-blur fade-up mt-10 relative z-10">
                    <div class="animate-pulse bg-gray-800 h-[700px] w-full rounded-xl mb-4 absolute inset-0"></div>
                    <!-- Calendly iframe will be injected here when scrolled into view -->
                </div>
            </div>
        </div>
    </section>

    <footer class="text-center py-4 text-sm text-gray-500">¬© ClosR Automation ‚Äî All Rights Reserved</footer>

    <button id="scrollToTop" class="hidden fixed bottom-6 right-6 bg-blue-600 text-white px-4 py-2 rounded-full shadow-lg hover:scale-110 transition z-40">
        ‚Üë Top
    </button>

    <div id="newsletterModal" class="fixed bottom-4 left-4 bg-black/80 text-white p-4 rounded-xl shadow-lg w-72 z-50 hidden">
        <button id="closeModal" class="absolute top-2 right-2 text-gray-400 hover:text-white">&times;</button>
        <h3 class="font-bold text-lg mb-2">Join ClosR Beta</h3>
        <p class="text-sm text-gray-300">Get early access & automation templates.</p>
        <input class="w-full mt-2 p-2 text-black rounded" type="email" placeholder="you@email.com">
        <button class="mt-2 glowing-button w-full text-sm py-2">Join</button>
    </div>

    <script defer>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize viewport checker for fade-up animations
            initViewportChecker();
            
            // Initialize form validation and memory
            initFormHandling();
            
            // Initialize scrollToTop button
            initScrollToTop();
            
            // Initialize dark mode
            initDarkMode();
            
            // Initialize newsletter modal with delay
            initNewsletterModal();
            
            // Initialize Calendly lazy loading
            initCalendlyLazyLoad();
            
            // Setup email copy functionality
            document.getElementById('copyEmailBtn').addEventListener('click', copyEmail);
        });
        
        // Initialize custom cursor only on mouse movement
        window.addEventListener('mousemove', initCursor, { once: true });
        
        // Function to check if an element is in the viewport
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }
        
        // Function to handle fade-up animations
        function initViewportChecker() {
            const fadeUpElements = document.querySelectorAll('.fade-up');
            
            function handleScroll() {
                fadeUpElements.forEach(el => {
                    if (isElementInViewport(el)) {
                        el.classList.add('active');
                    }
                });
            }
            
            window.addEventListener('scroll', handleScroll, { passive: true });
            handleScroll(); // Initial check
        }
        
        // Initialize custom cursor
        function initCursor(e) {
            const cursor = document.getElementById('custom-cursor');
            cursor.style.opacity = '1';
            
            function updateCursorPosition(e) {
                cursor.style.left = e.clientX + 'px';
                cursor.style.top = e.clientY + 'px';
            }
            
            document.addEventListener('mousemove', updateCursorPosition, { passive: true });
            updateCursorPosition(e);
            
            // Add hover effect to interactive elements
            const hoverables = document.querySelectorAll('a, button, .glowing-button, input, textarea, #toggleDark, #scrollToTop, #copyEmailBtn');
            hoverables.forEach(el => {
                el.addEventListener('mouseenter', () => cursor.classList.add('scale-150'));
                el.addEventListener('mouseleave', () => cursor.classList.remove('scale-150'));
            });
        }
        
        // Initialize form validation and memory
        function initFormHandling() {
            const form = document.getElementById('contactForm');
            const nameInput = document.getElementById('fullName');
            const emailInput = document.getElementById('email');
            const messageInput = document.getElementById('message');
            const submitBtn = document.getElementById('submitBtn');
            
            const nameError = document.getElementById('nameError');
            const emailError = document.getElementById('emailError');
            const messageError = document.getElementById('messageError');
            
            // Email regex for basic validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            
            // Function to validate the form
            function validateForm() {
                let isValid = true;
                
                // Validate name
                if (nameInput.value.length < 2) {
                    nameInput.classList.add('border-red-500', 'focus:ring-red-500');
                    nameInput.classList.remove('border-green-500', 'focus:ring-green-500');
                    nameError.classList.remove('hidden');
                    isValid = false;
                } else {
                    nameInput.classList.remove('border-red-500', 'focus:ring-red-500');
                    nameInput.classList.add('border-green-500', 'focus:ring-green-500');
                    nameError.classList.add('hidden');
                }
                
                // Validate email
                if (!emailRegex.test(emailInput.value)) {
                    emailInput.classList.add('border-red-500', 'focus:ring-red-500');
                    emailInput.classList.remove('border-green-500', 'focus:ring-green-500');
                    emailError.classList.remove('hidden');
                    isValid = false;
                } else {
                    emailInput.classList.remove('border-red-500', 'focus:ring-red-500');
                    emailInput.classList.add('border-green-500', 'focus:ring-green-500');
                    emailError.classList.add('hidden');
                }
                
                // Validate message
                if (messageInput.value.length < 10) {
                    messageInput.classList.add('border-red-500', 'focus:ring-red-500');
                    messageInput.classList.remove('border-green-500', 'focus:ring-green-500');
                    messageError.classList.remove('hidden');
                    isValid = false;
                } else {
                    messageInput.classList.remove('border-red-500', 'focus:ring-red-500');
                    messageInput.classList.add('border-green-500', 'focus:ring-green-500');
                    messageError.classList.add('hidden');
                }
                
                // Update submit button state
                if (!isValid) {
                    submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
                } else {
                    submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                }
                
                return isValid;
            }
            
            // Form field memory
            const formFields = {
                fullName: nameInput,
                email: emailInput,
                message: messageInput
            };
            
            // Load saved values from localStorage
            if (localStorage.getItem('contactForm')) {
                try {
                    const savedForm = JSON.parse(localStorage.getItem('contactForm'));
                    formFields.fullName.value = savedForm.fullName || '';
                    formFields.email.value = savedForm.email || '';
                    formFields.message.value = savedForm.message || '';
                    
                    // Trigger validation after restoring values
                    validateForm();
                } catch (e) {
                    console.error('Error loading saved form data');
                    localStorage.removeItem('contactForm');
                }
            }
            
            // Save field values with debounce
            const debounce = (func, delay) => {
                let debounceTimer;
                return function() {
                    clearTimeout(debounceTimer);
                    debounceTimer = setTimeout(() => func.apply(this, arguments), delay);
                };
            };
            
            const saveFormData = debounce(() => {
                const formData = {};
                Object.keys(formFields).forEach(field => {
                    formData[field] = formFields[field].value;
                });
                localStorage.setItem('contactForm', JSON.stringify(formData));
            }, 500);
            
            // Add event listeners
            nameInput.addEventListener('input', () => {
                validateForm();
                saveFormData();
            });
            
            emailInput.addEventListener('input', () => {
                validateForm();
                saveFormData();
            });
            
            messageInput.addEventListener('input', () => {
                validateForm();
                saveFormData();
            });
            
            // Form submission with loading state
            form.addEventListener('submit', function(e) {
                if (!validateForm()) {
                    e.preventDefault();
                    return;
                }
                
                // Show loading state
                submitBtn.innerHTML = '<span class="spinner">‚è≥</span> Sending...';
                submitBtn.disabled = true;
                submitBtn.classList.add('opacity-70');
                
                // Clear localStorage after successful submission
                localStorage.removeItem('contactForm');
            });
        }
        
        // Initialize scroll to top button
        function initScrollToTop() {
            const scrollToTopBtn = document.getElementById('scrollToTop');
            
            function checkScrollPosition() {
                if (window.pageYOffset > 400) {
                    scrollToTopBtn.classList.remove('hidden');
                } else {
                    scrollToTopBtn.classList.add('hidden');
                }
            }
            
            window.addEventListener('scroll', checkScrollPosition, { passive: true });
            
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        }
        
        // Initialize dark mode toggle
        function initDarkMode() {
            const toggleDarkBtn = document.getElementById('toggleDark');
            const htmlElement = document.documentElement;
            
            // Check for saved dark mode preference
            if (localStorage.getItem('darkMode') === 'true') {
                htmlElement.classList.add('dark');
            }
            
            toggleDarkBtn.addEventListener('click', () => {
                htmlElement.classList.toggle('dark');
                localStorage.setItem('darkMode', htmlElement.classList.contains('dark'));
            });
        }
        
        // Initialize newsletter modal
        function initNewsletterModal() {
            const newsletterModal = document.getElementById('newsletterModal');
            const closeModal = document.getElementById('closeModal');
            let hasShownModal = false;
            
            // Check if modal was previously closed
            if (localStorage.getItem('modalClosed')) {
                return;
            }
            
            // Show modal after 20 seconds
            setTimeout(() => {
                if (!hasShownModal) {
                    showNewsletterModal();
                }
            }, 20000);
            
            // Show modal when scrolled 60%
            let scrollHandler = () => {
                const scrollPercent = (window.scrollY / (document.body.scrollHeight - window.innerHeight)) * 100;
                if (scrollPercent > 60 && !hasShownModal) {
                    showNewsletterModal();
                    window.removeEventListener('scroll', scrollHandler);
                }
            };
            
            window.addEventListener('scroll', scrollHandler, { passive: true });
            
            function showNewsletterModal() {
                newsletterModal.classList.remove('hidden');
                newsletterModal.classList.add('slide-in');
                hasShownModal = true;
            }
            
            closeModal.addEventListener('click', () => {
                newsletterModal.classList.add('hidden');
                localStorage.setItem('modalClosed', 'true');
            });
        }
        
        // Initialize Calendly lazy loading
        function initCalendlyLazyLoad() {
            const calendlyWrapper = document.getElementById('calendlyWrapper');
            let calendlyLoaded = false;
            
            function loadCalendly() {
                if (calendlyLoaded) return;
                
                const rect = calendlyWrapper.getBoundingClientRect();
                const isNearViewport = rect.top < window.innerHeight * 1.5; // Load when within 1.5x viewport height
                
                if (isNearViewport) {
                    calendlyLoaded = true;
                    
                    const iframe = document.createElement('iframe');
                    iframe.src = "https://calendly.com/princeaiautomation/1hour?hide_event_type_details=1&hide_gdpr_banner=1";
                    iframe.width = "100%";
                    iframe.height = "700";
                    iframe.frameBorder = "0";
                    iframe.scrolling = "no";
                    iframe.loading = "lazy";
                    iframe.style.position = "relative";
                    iframe.style.zIndex = "10";
                    iframe.style.opacity = "0";
                    iframe.style.animation = "fadeIn 1s ease forwards 0.2s";
                    
                    calendlyWrapper.appendChild(iframe);
                    window.removeEventListener('scroll', loadCalendly);
                }
            }
            
            window.addEventListener('scroll', loadCalendly, { passive: true });
            loadCalendly(); // Check initial position
        }
        
        // Copy email function
        function copyEmail() {
            navigator.clipboard.writeText("uwagboe.o.p@gmail.com").then(() => {
                const msg = document.createElement('div');
                msg.textContent = "üìã Copied!";
                msg.className = "fixed bottom-6 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow z-50 animate-pulse";
                document.body.appendChild(msg);
                setTimeout(() => msg.remove(), 2000);
            });
        }
    </script>
</body>
</html>
